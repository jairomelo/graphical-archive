import{a as Ut,e as Qe,i as Bt,b as Ta,c as Ke,u as ie,f as _e,d as za,s as Y,N as La,g as Ma}from"../chunks/BiVmsLaX.js";import{f as A,e as S,a as N,s as d}from"../chunks/DuAiv27G.js";import{i as Ra}from"../chunks/CMFYxZe8.js";import{h as at,ag as Wa,ah as Pa,E as i,U as Ca,o as le,ai as Da,p as Ha,aj as Ga,ak as P,al as Xa,c as s,t as T,I as e,a as Ua,s as n,$ as b,Z as w,r as a,af as Ba,am as ye,J as y,f as Oa,a7 as oe}from"../chunks/C5CjX-zD.js";import{p as Va,i as C,s as qa,a as Z,b as Ya}from"../chunks/DFRFudlD.js";import{s as X,r as J}from"../chunks/Yn_JeK3p.js";import{t as Za,s as we}from"../chunks/DtMY26GN.js";function Ja(o,g,k,I){var m=o.__style;if(at||m!==g){var x=Za(g);(!at||x!==o.getAttribute("style"))&&(x==null?o.removeAttribute("style"):o.style.cssText=x),o.__style=g}return I}function Q(o,g,k=g){var I=new WeakSet;Wa(o,"input",async m=>{var x=m?o.defaultValue:o.value;if(x=et(o)?tt(x):x,k(x),le!==null&&I.add(le),await Pa(),x!==(x=g())){var U=o.selectionStart,j=o.selectionEnd,z=o.value.length;if(o.value=x??"",j!==null){var B=o.value.length;U===j&&j===z&&B>z?(o.selectionStart=B,o.selectionEnd=B):(o.selectionStart=U,o.selectionEnd=Math.min(j,B))}}}),(at&&o.defaultValue!==o.value||i(g)==null&&o.value)&&(k(et(o)?tt(o.value):o.value),le!==null&&I.add(le)),Ca(()=>{var m=g();if(o===document.activeElement){var x=Da??le;if(I.has(x))return}et(o)&&m===tt(o.value)||o.type==="date"&&!m&&!o.value||m!==o.value&&(o.value=m??"")})}function et(o){var g=o.type;return g==="number"||g==="range"}function tt(o){return o===""?null:+o}function Qa(o){return function(...g){var k=g[0];return k.stopPropagation(),o?.apply(this,g)}}const Ka=!1,er=!0;async function tr({fetch:o}){const[g,k]=await Promise.all([o(Ut("/data/europeana_metadata.json")),o(Ut("/data/europeana_neighbors.json"))]);return{metadata:await g.json(),neighbors:await k.json()}}const yr=Object.freeze(Object.defineProperty({__proto__:null,load:tr,prerender:er,ssr:Ka},Symbol.toStringTag,{value:"Module"}));var ar=A("<option> </option>"),rr=A('<li class="p-0"><button type="button"><div class="text-sm font-medium"> </div> <div class="text-xs text-gray-500"> </div></button></li>'),sr=A('<img class="w-full h-auto rounded mb-2"/>'),nr=A('<div class="text-xs"> </div>'),ir=A('<div class="text-xs"> </div>'),lr=A('<a target="_blank" class="text-blue-600 text-sm hover:underline">View on Europeana</a>'),or=A('<span class="text-purple-600 ml-1" title="User interaction boost">↑</span>'),dr=A('<li class="py-2"><div class="flex items-start justify-between gap-2"><button class="text-left text-sm hover:underline"> </button> <span class="text-xs text-gray-600 whitespace-nowrap"> <!></span></div> <div class="mt-1"><div class="flex items-center gap-2 text-[11px] text-gray-600 flex-wrap"><span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 bg-indigo-500 rounded"></span> </span> <span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 bg-emerald-500 rounded"></span> </span> <span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 bg-amber-500 rounded"></span> </span> <span><span class="inline-block w-2 h-2 bg-purple-500 rounded"></span> </span></div></div></li>'),cr=A('<div class="mt-4 border-t pt-3"><div class="flex items-center justify-between mb-2"><h4 class="font-semibold">Top neighbors</h4> <span class="text-[10px] text-gray-500"> </span></div> <ul class="divide-y"></ul></div>'),vr=A('<!> <div class="space-y-1"><div class="font-medium"> </div> <div class="text-xs text-gray-600"> </div> <!> <!> <!> <button> </button> <div class="text-[11px] text-gray-500 mt-1"> </div></div> <!>',1),ur=A('<p class="text-sm text-gray-600">Hover a node to preview it; click a node to keep it here until you hover another.</p>'),pr=A(`<div class="p-4 space-y-4"><div class="flex justify-between items-center"><h2 class="text-sm text-gray-600">A Conceptual Visualization of the Graphical Topology of the Archive</h2></div> <div class="border-t pt-4"><p class="text-md text-gray-600 mb-3">This visualization sketches what we are calling the "graphical topology" of the archive: 
    a space where items relate to one another through textual metadata, dates, places, and 
    patterns of interaction. It is not a working archival platform but a conceptual model 
    meant to explore how archives might be navigated through relational proximity rather 
    than fixed hierarchies or linear search.</p></div> <div class="border rounded-lg bg-white p-4 space-y-3"><details class="border rounded-lg bg-gray-50" open><summary class="cursor-pointer p-4 select-none font-semibold text-gray-700 text-sm hover:bg-gray-100 rounded-lg"><span class="inline-flex items-center justify-between w-full"><span>Network Size</span> <span class="font-mono font-semibold text-gray-600"> </span></span></summary> <div class="px-4 pb-4 space-y-2"><div class="flex items-center gap-3"><span class="text-xs text-gray-600">10</span> <input type="range" min="10" step="10" class="flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500"/> <span class="text-xs text-gray-600"> </span></div> <p class="text-[10px] text-gray-500">Control the number of nodes from filtered results. Adjust search/filters above to change available items.</p></div></details> <details class="border rounded-lg bg-gray-50" open><summary class="cursor-pointer p-4 select-none hover:bg-gray-100 rounded-lg"><div class="flex items-center justify-between"><h3 class="text-sm font-semibold text-gray-700">Similarity Weights</h3> <button class="px-3 py-1 text-xs rounded border bg-white hover:bg-gray-100 text-gray-700" title="Reset weights to default values">Reset Weights</button></div></summary> <div class="px-4 pb-4"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"><div class="space-y-1"><label class="flex items-center justify-between text-xs text-gray-600"><span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 bg-indigo-500 rounded"></span> Text</span> <span class="font-mono font-semibold"> </span></label> <input type="range" min="0" max="1" step="0.05" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-500"/></div> <div class="space-y-1"><label class="flex items-center justify-between text-xs text-gray-600"><span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 bg-emerald-500 rounded"></span> Date</span> <span class="font-mono font-semibold"> </span></label> <input type="range" min="0" max="1" step="0.05" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-emerald-500"/></div> <div class="space-y-1"><label class="flex items-center justify-between text-xs text-gray-600"><span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 bg-amber-500 rounded"></span> Place</span> <span class="font-mono font-semibold"> </span></label> <input type="range" min="0" max="1" step="0.05" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-amber-500"/></div> <div class="space-y-1"><label class="flex items-center justify-between text-xs text-gray-600"><span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 bg-purple-500 rounded"></span> User</span> <span class="font-mono font-semibold"> </span></label> <input type="range" min="0" max="1" step="0.05" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-500"/></div></div> <p class="text-[10px] text-gray-500 mt-2"> </p></div></details> <div class="flex gap-4 items-center flex-wrap"><button class="px-3 py-1 bg-gray-600 text-white rounded text-sm">Reset Zoom</button> <button class="ml-auto px-3 py-1 rounded text-sm border bg-gray-100 hover:bg-gray-200" aria-controls="preview-panel"> </button> <button class="px-3 py-1 rounded text-sm border bg-red-50 hover:bg-red-100 text-red-700" title="Reset interaction history">Reset Interactions</button></div> <div class="flex flex-col lg:flex-row gap-4 items-start"><div class="flex-1 min-w-0 space-y-4"><!> <div class="border rounded-lg bg-white p-4"><h3 class="text-lg font-bold text-gray-800 mb-3">Search & Filter</h3> <div class="space-y-3"><div class="flex gap-3 flex-wrap items-center"><input type="search" class="border rounded px-3 py-2 flex-1 min-w-[200px]" placeholder="Search title…"/> <select class="border rounded px-3 py-2"><option>All languages</option><!></select> <input class="border rounded px-3 py-2 w-32" type="number" placeholder="Year ≥"/> <input class="border rounded px-3 py-2 w-32" type="number" placeholder="Year ≤"/></div> <div class="text-sm text-gray-600"> </div> <ul class="border rounded divide-y max-h-[50vh] overflow-auto bg-gray-50"></ul></div></div></div>  <div role="separator" aria-orientation="vertical" class="hidden lg:block w-1 cursor-col-resize self-stretch bg-gray-300 hover:bg-gray-400 transition-colors" title="Drag to resize details panel"></div> <aside id="preview-panel"><h3 class="font-semibold mb-2">Details</h3> <!></aside></div></div></div>`);function wr(o,g){Ha(g,!1);const k=()=>Z(Y,"$selectedId",z),I=()=>Z(Bt,"$items",z),m=()=>Z(_e,"$filters",z),x=()=>Z(za,"$byId",z),U=()=>Z(Ma,"$userSimilarity",z),j=()=>Z(ie,"$userInteractions",z),[z,B]=qa(),f=w(),de=w(),$=w(),ce=w(),ke=w(),D=w();let O=Va(g,"data",8),K=w(),F=w(!0),ee=w(null),ve=w([]),l=w({text:.6,date:.2,place:.2,user:.5}),R=w(500),W=null,V=w(360);const rt=260,st=640;let $e=!1,nt=0,it=0;function Ot(t){return Array.isArray(t)?t:Array.isArray(t?.pairs)?t.pairs.map(r=>({source:r.a,target:r.b,score:r.score})):t?.graph?.edges??[]}Ga(()=>{if(Bt.set(O().metadata||[]),Ta.set(Ot(O().neighbors)),b(R,O().metadata?.length||500),typeof window<"u"){b(F,window.innerWidth>=1024);const t=Number(localStorage.getItem("ga_panel_width"));!Number.isNaN(t)&&t>=rt&&t<=st&&b(V,t)}});let ue=w("");function Vt(t){t===""?Y.set(null):(W&&(clearTimeout(W),W=null),Y.set(t),ie.trackView(t))}function qt(t){if(W&&(clearTimeout(W),W=null),b(ee,t),t){const r=t;W=setTimeout(()=>{e(ee)===r&&(ie.trackHover(r),Y.set(r)),W=null},3e3)}}function lt(t){e(F)&&($e=!0,nt="touches"in t?t.touches[0].clientX:t.clientX,it=e(V),window.addEventListener("mousemove",pe),window.addEventListener("touchmove",pe,{passive:!1}),window.addEventListener("mouseup",ge),window.addEventListener("touchend",ge),document.body.style.cursor="col-resize",document.body.style.userSelect="none")}function pe(t){if(!$e)return;if("preventDefault"in t)try{t.preventDefault()}catch{}const r="touches"in t?t.touches[0].clientX:t.clientX,c=nt-r,h=Math.max(rt,Math.min(st,it+c));b(V,h)}function ge(){$e=!1,window.removeEventListener("mousemove",pe),window.removeEventListener("touchmove",pe),window.removeEventListener("mouseup",ge),window.removeEventListener("touchend",ge),document.body.style.cursor="",document.body.style.userSelect=""}function Yt(t,r=10){if(!t)return[];const c=O()?.neighbors;return(Array.isArray(c)?[]:c?.[t]??[]).slice(0,r).map(_=>({..._,item:x().get(_.id)}))}P(()=>(e(ee),k()),()=>{b(f,e(ee)??k()??null)}),P(()=>e(V),()=>{try{localStorage.setItem("ga_panel_width",String(e(V)))}catch{}}),P(()=>e(ue),()=>{b(de,e(ue).toLowerCase())}),P(()=>(I(),e(de),m()),()=>{b($,I().filter(t=>{const r=(Array.isArray(t.title)?t.title[0]:t.title)??"",c=!e(de)||String(r).toLowerCase().includes(e(de)),h=t.language&&t.language[0]||"",_=!m().lang||h===m().lang,L=Number(t.year),E=(!m().yearFrom||L>=m().yearFrom)&&(!m().yearTo||L<=m().yearTo||Number.isNaN(L));return c&&_&&E}))}),P(()=>(e($),e(R)),()=>{b(ce,e($).slice(0,e(R)))}),P(()=>e(ce),()=>{b(ke,new Set(e(ce).map(t=>t.id)))}),P(()=>(e($),e(ke)),()=>{b(D,e($).filter(t=>e(ke).has(t.id)))}),P(()=>e(f),()=>{b(ve,Yt(e(f),10))}),Xa(),Ra();var Se=pr(),ot=n(s(Se),4),Ne=s(ot),Ae=s(Ne),dt=s(Ae),ct=n(s(dt),2),Zt=s(ct);a(ct),a(dt),a(Ae);var vt=n(Ae,2),ut=s(vt),me=n(s(ut),2);J(me);var pt=n(me,2),Jt=s(pt,!0);a(pt),a(ut),Ba(2),a(vt),a(Ne);var je=n(Ne,2),Ie=s(je),gt=s(Ie),Qt=n(s(gt),2);a(gt),a(Ie);var mt=n(Ie,2),Fe=s(mt),Ee=s(Fe),Te=s(Ee),xt=n(s(Te),2),Kt=s(xt,!0);a(xt),a(Te);var bt=n(Te,2);J(bt),a(Ee);var ze=n(Ee,2),Le=s(ze),ft=n(s(Le),2),ea=s(ft,!0);a(ft),a(Le);var ht=n(Le,2);J(ht),a(ze);var Me=n(ze,2),Re=s(Me),_t=n(s(Re),2),ta=s(_t,!0);a(_t),a(Re);var yt=n(Re,2);J(yt),a(Me);var wt=n(Me,2),We=s(wt),kt=n(s(We),2),aa=s(kt,!0);a(kt),a(We);var $t=n(We,2);J($t),a(wt),a(Fe);var St=n(Fe,2),ra=s(St);a(St),a(mt),a(je);var Pe=n(je,2),Nt=s(Pe),te=n(Nt,2),sa=s(te,!0);a(te);var na=n(te,2);a(Pe);var At=n(Pe,2),Ce=s(At),jt=s(Ce);{var ia=t=>{Ya(La(t,{get items(){return e(ce)},get neighbors(){return y(O()),i(()=>O().neighbors)},get userSimilarity(){return U()},get textWeight(){return e(l),i(()=>e(l).text)},get dateWeight(){return e(l),i(()=>e(l).date)},get placeWeight(){return e(l),i(()=>e(l).place)},get userWeight(){return e(l),i(()=>e(l).user)},get maxNodes(){return e(R)},get selectedId(){return k()},onNodeClick:Vt,onNodeHover:qt,$$legacy:!0}),r=>b(K,r),()=>e(K))};C(jt,t=>{t(ia)})}var It=n(jt,2),Ft=n(s(It),2),De=s(Ft),He=s(De);J(He);var xe=n(He,2),Ge=s(xe);Ge.value=Ge.__value="";var la=n(Ge);Qe(la,1,()=>(I(),i(()=>Array.from(new Set(I().flatMap(t=>t.language||[]))))),Ke,(t,r)=>{var c=ar(),h=s(c,!0);a(c);var _={};T(()=>{d(h,e(r)),_!==(_=e(r))&&(c.value=(c.__value=e(r))??"")}),N(t,c)}),a(xe);var Et=n(xe,2),oa=n(Et,2);a(De);var Xe=n(De,2),da=s(Xe);a(Xe);var Tt=n(Xe,2);Qe(Tt,5,()=>(e(D),i(()=>e(D).slice(0,200))),Ke,(t,r)=>{var c=rr(),h=s(c),_=s(h),L=s(_,!0);a(_);var E=n(_,2),H=s(E);a(E),a(h),a(c),T((re,G)=>{we(h,1,`w-full text-left p-3 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 ${k(),e(r),i(()=>k()===e(r).id?"bg-blue-50":"")??""}`),d(L,re),d(H,`${e(r),i(()=>e(r).year)??""} · ${G??""}`)},[()=>(e(r),i(()=>Array.isArray(e(r).title)?e(r).title[0]:e(r).title)),()=>(e(r),i(()=>e(r).language&&e(r).language.join(", ")||""))]),S("click",h,()=>{Y.set(e(r).id),e(K)&&e(K).centerOnNode?.(e(r).id)}),N(t,c)}),a(Tt),a(Ft),a(It),a(Ce);var be=n(Ce,2),ae=n(be,2),ca=n(s(ae),2);{var va=t=>{const r=oe(()=>(x(),e(f),i(()=>x().get(e(f))))),c=oe(()=>(y(e(r)),i(()=>Array.isArray(e(r).title)?e(r).title[0]:e(r).title)));var h=vr(),_=Oa(h);{var L=v=>{var u=sr();T(()=>{X(u,"src",(y(e(r)),i(()=>e(r).thumbnail))),X(u,"alt",e(c)||"thumbnail")}),N(v,u)};C(_,v=>{y(e(r)),i(()=>e(r).thumbnail)&&v(L)})}var E=n(_,2),H=s(E),re=s(H,!0);a(H);var G=n(H,2),Ue=s(G);a(G);var zt=n(G,2);{var pa=v=>{var u=nr(),M=s(u);a(u),T(()=>d(M,`Country: ${y(e(r)),i(()=>e(r).country)??""}`)),N(v,u)};C(zt,v=>{y(e(r)),i(()=>e(r).country)&&v(pa)})}var Lt=n(zt,2);{var ga=v=>{var u=ir(),M=s(u);a(u),T(()=>d(M,`Collection: ${y(e(r)),i(()=>e(r).collection)??""}`)),N(v,u)};C(Lt,v=>{y(e(r)),i(()=>e(r).collection)&&v(ga)})}var Mt=n(Lt,2);{var ma=v=>{var u=lr();T(()=>X(u,"href",(y(e(r)),i(()=>e(r).link)))),N(v,u)};C(Mt,v=>{y(e(r)),i(()=>e(r).link)&&v(ma)})}var se=n(Mt,2),xa=s(se,!0);a(se);var Rt=n(se,2),ba=s(Rt);a(Rt),a(E);var fa=n(E,2);{var ha=v=>{var u=cr(),M=s(u),fe=n(s(M),2),_a=s(fe);a(fe),a(M);var Wt=n(M,2);Qe(Wt,5,()=>e(ve),Ke,(ya,p)=>{const Pt=oe(()=>(e(p),i(()=>Array.isArray(e(p).item?.title)?e(p).item?.title[0]:e(p).item?.title))),q=oe(()=>(U(),e(f),e(p),i(()=>U().get([e(f),e(p).id].sort().join("|"))??0))),Ct=oe(()=>(e(l),e(p),y(e(q)),i(()=>e(l).text*(e(p).S_text??0)+e(l).date*(e(p).S_date??0)+e(l).place*(e(p).S_place??0)+e(l).user*e(q))));var Be=dr(),Oe=s(Be),he=s(Oe),wa=s(he,!0);a(he);var Dt=n(he,2),Ht=s(Dt),ka=n(Ht);{var $a=ne=>{var Je=or();N(ne,Je)};C(ka,ne=>{e(q)>0&&ne($a)})}a(Dt),a(Oe);var Gt=n(Oe,2),Xt=s(Gt),Ve=s(Xt),Sa=n(s(Ve));a(Ve);var qe=n(Ve,2),Na=n(s(qe));a(qe);var Ye=n(qe,2),Aa=n(s(Ye));a(Ye);var Ze=n(Ye,2),ja=n(s(Ze));a(Ze),a(Xt),a(Gt),a(Be),T((ne,Je,Ia,Fa,Ea)=>{d(wa,(y(e(Pt)),e(p),i(()=>e(Pt)??e(p).title??e(p).id))),d(Ht,`${ne??""} `),d(Sa,`Text ${Je??""}`),d(Na,`Date ${Ia??""}`),d(Aa,`Place ${Fa??""}`),we(Ze,1,`inline-flex items-center gap-1 ${e(q)>0?"text-purple-600 font-medium":""}`),d(ja,`User ${Ea??""}`)},[()=>(y(e(Ct)),i(()=>e(Ct).toFixed(2))),()=>(e(p),i(()=>Number(e(p).S_text??0).toFixed(2))),()=>(e(p),i(()=>Number(e(p).S_date??0).toFixed(2))),()=>(e(p),i(()=>Number(e(p).S_place??0).toFixed(2))),()=>(y(e(q)),i(()=>e(q).toFixed(2)))]),S("click",he,()=>{Y.set(e(p).id),b(ee,null)}),N(ya,Be)}),a(Wt),a(u),T(()=>d(_a,`G = ${e(l),i(()=>e(l).text)??""}·Text + ${e(l),i(()=>e(l).date)??""}·Date + ${e(l),i(()=>e(l).place)??""}·Place + ${e(l),i(()=>e(l).user)??""}·User`)),N(v,u)};C(fa,v=>{e(ve),i(()=>e(ve).length)&&v(ha)})}T((v,u,M,fe)=>{d(re,e(c)??"(no title)"),d(Ue,`${y(e(r)),i(()=>e(r).year??"")??""} · ${v??""}`),we(se,1,`mt-2 px-2 py-1 text-xs rounded ${u??""}`),d(xa,M),d(ba,`Hover views: ${fe??""}`)},[()=>(y(e(r)),i(()=>e(r).language&&e(r).language.join(", ")||"")),()=>(j(),e(f),i(()=>j().bookmarks.has(e(f))?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-100 text-gray-700 border border-gray-300")),()=>(j(),e(f),i(()=>j().bookmarks.has(e(f))?"★ Bookmarked":"☆ Bookmark")),()=>(j(),e(f),i(()=>j().hoverTimestamps?.get(e(f))?.length||0))]),S("click",se,()=>ie.toggleBookmark(e(f))),N(t,h)},ua=t=>{var r=ur();N(t,r)};C(ca,t=>{e(f),x(),i(()=>e(f)&&x().get(e(f)))?t(va):t(ua,!1)})}a(ae),a(At),a(ot),a(Se),T((t,r,c,h,_,L,E,H,re,G,Ue)=>{d(Zt,`${t??""} / ${e($),i(()=>e($).length)??""} nodes`),X(me,"max",r),d(Jt,(e($),i(()=>e($).length))),d(Kt,c),d(ea,h),d(ta,_),d(aa,L),d(ra,`Adjust weights to control how similarity scores are calculated: G = ${E??""}·Text + ${H??""}·Date + ${re??""}·Place + ${G??""}·User`),X(te,"aria-expanded",e(F)),d(sa,e(F)?"Hide panel":"Show panel"),d(da,`Showing ${Ue??""} of ${e(D),i(()=>e(D).length)??""} items`),X(be,"aria-hidden",!e(F)),we(ae,1,`border rounded-lg p-3 bg-gray-50 max-h-[140vh] overflow-auto w-full lg:w-auto flex-shrink-0 ${e(F)?"block":"hidden"}`),X(ae,"aria-hidden",!e(F)),Ja(ae,`width: ${e(F)?e(V)+"px":"auto"}`)},[()=>(e(R),e($),i(()=>Math.min(e(R),e($).length))),()=>(e($),i(()=>Math.max(10,e($).length))),()=>(e(l),i(()=>e(l).text.toFixed(2))),()=>(e(l),i(()=>e(l).date.toFixed(2))),()=>(e(l),i(()=>e(l).place.toFixed(2))),()=>(e(l),i(()=>e(l).user.toFixed(2))),()=>(e(l),i(()=>e(l).text.toFixed(2))),()=>(e(l),i(()=>e(l).date.toFixed(2))),()=>(e(l),i(()=>e(l).place.toFixed(2))),()=>(e(l),i(()=>e(l).user.toFixed(2))),()=>(e(D),i(()=>Math.min(e(D).length,200)))]),Q(me,()=>e(R),t=>b(R,t)),S("click",Qt,Qa(()=>{b(l,{text:.6,date:.2,place:.2,user:.5})})),Q(bt,()=>e(l).text,t=>ye(l,e(l).text=t)),Q(ht,()=>e(l).date,t=>ye(l,e(l).date=t)),Q(yt,()=>e(l).place,t=>ye(l,e(l).place=t)),Q($t,()=>e(l).user,t=>ye(l,e(l).user=t)),S("click",Nt,()=>e(K)?.resetZoom()),S("click",te,()=>b(F,!e(F))),S("click",na,()=>{confirm("Clear all tracked views and bookmarks?")&&ie.reset()}),Q(He,()=>e(ue),t=>b(ue,t)),S("change",xe,t=>_e.set({...m(),lang:t.target.value||void 0})),S("change",Et,t=>_e.set({...m(),yearFrom:Number(t.target.value)||void 0})),S("change",oa,t=>_e.set({...m(),yearTo:Number(t.target.value)||void 0})),S("mousedown",be,lt),S("touchstart",be,lt),N(o,Se),Ua(),B()}export{wr as component,yr as universal};
